(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{82134:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[courseId]/[lessonId]",function(){return l(66841)}])},16512:function(e,n,l){"use strict";l.d(n,{Z:function(){return w}});var s=l(85893),o=l(23100),t=l(204),i=l(89154),r=l(96272),d=l(7754),u=l(31956),c=l(89783);l(67294);var a=l(86893),x=l(17076),v=l(41664),h=l.n(v);let g=e=>{let{title:n,href:l}=e;return(0,s.jsx)(h(),{href:l,children:(0,s.jsx)("button",{className:"btn btn-link text-offwhite no-underline font-normal text-lg m-0 p-0 !capitalize",children:n})})};var m=l(729),j=l(96063),p=l(11163),f=l(84053),_=l(61786);let b=e=>{let{isInstructor:n,isCart:l,toggleNavEnabled:v,navEnabled:h,isSideNav:b,isSearch:w,isBuild:k,isLogo:I,isGoBack:S,title:y}=e,E=(0,p.useRouter)(),{isLoading:C,session:N,error:L}=(0,f.useSessionContext)(),q=(0,f.useUser)(),R=(0,f.useSupabaseClient)();return(0,s.jsx)(o.xu,{as:"section",bg:"nav-bg",w:"100%",zIndex:"popover",children:(0,s.jsx)(t.k,{as:"nav",bg:"bg-surface",w:"100%",boxShadow:"2xl",zIndex:"popover",position:"relative",align:"center",justify:"space-between",h:"60px",children:(0,s.jsx)(o.xu,{px:"3",w:"100%",children:(0,s.jsxs)(t.k,{justify:"space-between",w:"100%",children:[(0,s.jsxs)(t.k,{children:[!h&&b&&(0,s.jsx)(i.h,{background:"none",_hover:{background:"none"},color:"white","aria-label":"Menu",icon:(0,s.jsx)(a.cur,{}),onClick:()=>{v()}}),I&&(0,s.jsx)(x.Z,{type:"small"}),(0,s.jsx)(o.xu,{color:"white",textStyle:"h3",py:"2",px:5,w:"100%",children:y}),S&&(0,s.jsx)(t.k,{children:(0,s.jsx)(r.z,{colorScheme:"blue",onClick:()=>{E.back()},children:"Go Back To Course Editor"})})]}),(0,s.jsx)(d.M,{color:"white",gap:3,pr:3,children:q?(0,s.jsxs)(s.Fragment,{children:[k&&(0,s.jsx)(g,{title:"Build",href:"/build"}),(0,s.jsx)(m.Z,{menuItems:[(0,s.jsx)(u.s,{onClick:async()=>{await (0,_.uf)(R)},children:"Sign out"},"signout")],element:(0,s.jsx)(j.q,{background:"white",color:"black",name:null==q?void 0:q.email,size:"md"})})]}):(0,s.jsxs)(c.h,{children:[(0,s.jsx)(r.z,{colorScheme:"blue",onClick:()=>{E.push("/signin")},children:"Login"}),(0,s.jsx)(r.z,{colorScheme:"blue",variant:"outline",onClick:()=>{E.push("/signup")},children:"Sign Up"})]})})]})})})})};var w=b},66841:function(e,n,l){"use strict";l.r(n),l.d(n,{Course:function(){return U},__N_SSP:function(){return T},default:function(){return W}});var s=l(85893),o=l(67294),t=l(23118),i=l(204),r=l(54641),d=l(89154),u=l(23100),c=l(86893),a=l(60155);let x=e=>{let{children:n,title:l}=e;return(0,s.jsxs)(u.xu,{color:"light-text",border:"none",children:[(0,s.jsx)(i.k,{alignItems:"center",children:(0,s.jsx)(i.k,{children:(0,s.jsx)(u.xu,{as:"span",flex:"1",fontWeight:"medium",textAlign:"left",children:l})})}),n]})};var v=l(99292),h=l(36963),g=l(88911),m=l(11163);let j=e=>{let{title:n,active:l,selected:t,sectionId:r,courseId:d,lessonId:u,lessonIndex:c,sectionIndex:a,setSectionIndex:x,setLessonIndex:j,setSelectedLesson:p,togglenavEnabled:f,navEnabled:_}=e,b=(0,m.useRouter)();return(0,o.useEffect)(()=>{t&&(x(a),j(c))},[t]),(0,s.jsx)(i.k,{flexDir:"column",w:"100%",alignItems:"flex-start",fontWeight:"medium",children:(0,s.jsx)(v.v,{placement:"right",children:(0,s.jsx)(i.k,{w:"100%",alignItems:"center",children:(0,s.jsx)(h.j,{backgroundColor:t&&"text-highlight",py:3,pr:2,textAlign:"left",borderRadius:8,_hover:{textDecor:"none",backgroundColor:"text-highlight"},w:"100%",onClick:()=>{p(u),_&&window.innerWidth<768&&f(),b.push("/course/".concat(d,"/").concat(u))},children:(0,s.jsx)(i.k,{children:(0,s.jsx)(g.x,{ml:5,color:t?"light-text":"darkish-text",fontWeight:t?"medium":"normal",display:"flex",children:n})})})})})})};var p=l(56877),f=l(51615),_=l(17076);function b(e){let{navEnabled:n,togglenavEnabled:l,courseData:o,selectedLesson:t,title:v,setSelectedLesson:h,setLessonIndex:g,setSectionIndex:m}=e;return(0,s.jsx)(i.k,{as:f.E.div,transition:"0.2s ease-in-out",left:"0",minH:"100vh",maxH:"100vh",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.05)",w:n?"350px":"0px",flexDir:"column",justifyContent:"space-between",bg:"nav-bg",flexShrink:0,overflowY:"auto",children:(0,s.jsxs)(i.k,{pl:8,pr:3,flexDir:"column",w:"100%",as:"nav",height:"100%",children:[(0,s.jsxs)(r.U,{alignContent:"center",justifyContent:"space-between",alignItems:"center",color:"darkish-text",mb:7,mt:4,cursor:"pointer",children:[(0,s.jsx)(_.Z,{type:"small"}),(0,s.jsx)(d.h,{onClick:l,"aria-label":"Toggle Navigation",icon:(0,s.jsx)(p.J,{as:a.$Ku}),variant:"ghost",color:"white",_hover:{background:"none"},_active:{background:"none"},_focus:{background:"none"}})]}),(0,s.jsx)(u.xu,{children:(0,s.jsx)(u.xu,{textStyle:"h4",mt:6,children:(null==o?void 0:o.course.course_order)&&(null==o?void 0:o.course.course_order.map((e,i)=>{var r;return(0,s.jsx)(x,{title:null===(r=null==o?void 0:o.sections[null==e?void 0:e.id])||void 0===r?void 0:r.title,children:(0,s.jsx)(u.xu,{mt:4,mb:4,w:"100%",textStyle:"h4",pb:4,p:"0",children:(null==e?void 0:e.lessons)&&e.lessons.map((r,d)=>{var u,a;return(0,s.jsx)(j,{courseId:o.course.original_course_id,setSelectedLesson:h,sectionId:e.id,lessonId:r.id,selected:""===t&&0===d&&0===i||r.id===t,sectionIndex:i,lessonIndex:d,title:null==o?void 0:null===(u=o.lessons)||void 0===u?void 0:null===(a=u[r.id])||void 0===a?void 0:a.title,icon:(0,s.jsx)(c.m6D,{}),active:!1,setLessonIndex:g,setSectionIndex:m,togglenavEnabled:l,navEnabled:n},r.id)})})},null==e?void 0:e.id)}))})})]})})}var w=l(16512),k=l(75181),I=l(33299),S=l(81157),y=l(96272),E=l(54742);let C=[{children:[{text:""}],type:"p"}],N=e=>{let{setLocalEditorText:n,resetEditor:l,setResetEditor:t,content:i}=e,r=(0,k.TBU)("editor_id");return(0,o.useEffect)(()=>{l&&(n(0===i.length?C:i),setTimeout(()=>{r()},1),t(!1))},[i,l]),(0,s.jsx)(s.Fragment,{})},L=e=>{let{content:n,setSelectedLesson:l,course:t,sectionIndex:i,lessonIndex:r}=e,[d,c]=o.useState(!0),[a,x]=o.useState(),[v,h]=o.useState(!0),g=(0,m.useRouter)();(0,o.useEffect)(()=>{d&&c(!1)},[]);let j=(0,o.useRef)(null),p=(0,o.useMemo)(()=>(0,S.SC)(E.R,{components:{...E.A}}),[]);return(0,o.useEffect)(()=>{n&&h(!0)},[n]),(0,s.jsxs)(k.VUR,{plugins:p,readOnly:!0,id:"editor_id",value:a,initialValue:0===n.length?C:n,children:[(0,s.jsx)(u.xu,{ref:j,position:"relative",maxW:"1000px",children:(0,s.jsx)(k.hv7,{editableProps:I.p,id:"editor_id",children:(0,s.jsx)(N,{setLocalEditorText:x,resetEditor:v,setResetEditor:h,content:n})})}),(0,s.jsx)(y.z,{marginLeft:"auto",padding:5,width:200,marginRight:5,marginTop:5,marginBottom:10,onClick:()=>{let e=t.course_order;r===e[i].lessons.length-1?g.push("/course/".concat(t.original_course_id,"/").concat(e[i+1].lessons[0].id)):g.push("/course/".concat(t.original_course_id,"/").concat(e[i].lessons[r+1].id))},children:"Next Lecture"}),(0,s.jsx)(k.iKC,{})]})},q=e=>{let{toggleNavEnabled:n,navEnabled:l,selectedId:o,lessons:t,content:i,setSelectedLesson:r,course:d,sectioIndex:c,lessonIndex:a}=e;return(0,s.jsx)(u.xu,{flex:1,minH:"0",w:"100%",display:"flex",flexDir:"column",overflowY:"auto",children:(0,s.jsx)(L,{toggleNavEnabled:n,navEnabled:l,selectedId:o,lessons:t,content:i,course:d,setSelectedLesson:r,sectionIndex:c,lessonIndex:a})})};var R=l(99520),z=l(53059),D=l(2962),T=!0;let U=e=>{var n,l,r,d,u,c,a,x,v,h,g;let{content:j,myCourseData:p,notFound:f}=e,[_,k]=(0,o.useState)(!0),I=(0,m.useRouter)(),{courseId:S}=I.query,[y,E]=(0,o.useState)(null),[C,N]=(0,o.useState)(null),[L,T]=(0,o.useState)(null);(0,o.useEffect)(()=>{var e,n,l,s,o;((null==p?void 0:null===(e=p.course)||void 0===e?void 0:e.course_order)||null==I||null===(n=I.query)||void 0===n||!n.lessonId)&&(null==p||p.course.course_order,(null==p?void 0:null===(l=p.lessons)||void 0===l?void 0:null===(o=l[null==I?void 0:null===(s=I.query)||void 0===s?void 0:s.lessonId])||void 0===o?void 0:o.original_lesson_id)&&E(p.lessons[I.query.lessonId].original_lesson_id))},[null==I?void 0:null===(n=I.query)||void 0===n?void 0:n.lessonId,p]);let U=()=>{!1==_?k(!0):k(!1)};return(0,o.useEffect)(()=>{S&&y&&p&&(console.log("courseId",S),console.log("selectedLesson",y),console.log("myCourseData",p),R.c.then(e=>{var n,l,s;(0,z.Kz)(e,"view_item_list",{items:[{item_id:y,item_name:null===(n=null==p?void 0:p.lessons[y])||void 0===n?void 0:n.title,item_category:"lesson",item_list_id:S,item_list_name:null==p?void 0:null===(l=p.course)||void 0===l?void 0:l.title}],item_list_name:null==p?void 0:null===(s=p.course)||void 0===s?void 0:s.title,item_list_id:S})}))},[y]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.PB,{title:(null==p?void 0:null===(l=p.course)||void 0===l?void 0:l.title)&&(null==p?void 0:null===(r=p.lessons)||void 0===r?void 0:null===(c=r[null===(d=p.lessons)||void 0===d?void 0:null===(u=d[I.query.lessonId])||void 0===u?void 0:u.original_lesson_id])||void 0===c?void 0:c.title)?p.course.title+" - "+p.lessons[p.lessons[I.query.lessonId].original_lesson_id].title:"Untitled",openGraph:{url:"https://www.learnthepart.com/course/".concat(S,"/").concat(I.query.article),title:(null==p?void 0:null===(a=p.course)||void 0===a?void 0:a.title)&&(null==p?void 0:null===(x=p.lessons)||void 0===x?void 0:null===(g=x[null===(v=p.lessons)||void 0===v?void 0:null===(h=v[I.query.lessonId])||void 0===h?void 0:h.original_lesson_id])||void 0===g?void 0:g.title)?p.course.title+" - "+p.lessons[p.lessons[I.query.lessonId].original_lesson_id].title:"Untitled",images:[{url:p.course.image_url,alt:p.course.title,width:800,height:600}]}}),(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(b,{courseData:p,togglenavEnabled:U,navEnabled:_,selectedLesson:y,title:null==p?void 0:p.course.title,setSelectedLesson:E,setLessonIndex:N,setSectionIndex:T}),(0,s.jsxs)(i.k,{flexDir:"column",minW:"0px",flex:1,h:"100%",children:[(0,s.jsx)(w.Z,{isSideNav:!0,toggleNavEnabled:U,navEnabled:_,title:null==p?void 0:p.course.title}),p&&(0,s.jsx)(q,{toggleNavEnabled:U,navEnabled:_,selectedId:y,lessons:null==p?void 0:p.lessons,content:j,setSelectedLesson:E,course:null==p?void 0:p.course,lessonIndex:C,sectioIndex:L})]})]})]})};var W=U}},function(e){e.O(0,[774,260,314,563,272,329,700,6,58,904,635,674,509,888,179],function(){return e(e.s=82134)}),_N_E=e.O()}]);