"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{99747:function(e,t,n){n.d(t,{C9:function(){return nK},CE:function(){return iJ},CQ:function(){return B},F5:function(){return ob},FI:function(){return ok},H1:function(){return rr},Jk:function(){return oC},KC:function(){return og},Ku:function(){return iG},L4:function(){return rm},L_:function(){return rj},MQ:function(){return oS},MT:function(){return g.MT},Mf:function(){return rw},O9:function(){return ib},QE:function(){return oP},SV:function(){return iP},TB:function(){return iR},TU:function(){return iA},U7:function(){return iq},VU:function(){return i5},Vd:function(){return oy},W6:function(){return oM},YP:function(){return N},Yv:function(){return oB},ZU:function(){return iv},_x:function(){return iB},bb:function(){return rC},c$:function(){return oN},dF:function(){return n_},gQ:function(){return iH},hv:function(){return ut},iN:function(){return rn},iZ:function(){return rg},iw:function(){return D},jl:function(){return ow},lM:function(){return ig},ld:function(){return os},mT:function(){return im},mn:function(){return rs},mx:function(){return iZ},nC:function(){return nD},oe:function(){return of},ph:function(){return oE},qn:function(){return oa},rO:function(){return i$},s3:function(){return rk},s8:function(){return rb},sZ:function(){return iX},uP:function(){return un},vH:function(){return oT},wq:function(){return A},x0:function(){return y.x0},xj:function(){return nQ},y1:function(){return b.y1}});var r,o,i,u,a,l,c,s,f,d,p,v=n(70024),h=n(67294),y=n(53416),b=n(46977),g=n(24762),m=n(37173),j=n(68413),w=n(97103),O=n(57645),k=n(96391),C=n(86010),E=n(38651),_=n(77493);let S=(e="")=>e.length?e[0].toUpperCase()+e.slice(1):"",x=(e="")=>e.length?`${e}Store`:"store",P=(e="")=>`use${S(e)}Store`,B=(e,{scope:t,initialStore:n,name:r=""}={})=>{let o=P(null==n?void 0:n.name),i=x(null==n?void 0:n.name),u=P(r),a=x(r),l=n?n[o]().get:{},c=n?n[o]().set:{},s=n?n[o]().use:{},f=n?n[i].atom:{};Object.keys(e).forEach(n=>{let r=(0,v.cn)(e[n]);f[n]=r,l[n]=e=>(0,v.Dv)(r,null!=e?e:t),c[n]=e=>(0,v.b9)(r,null!=e?e:t),s[n]=e=>(0,v.KO)(r,null!=e?e:t)});let d={[u]:e=>{if(e){let n={...l},r={...c},o={...s};return Object.keys(n).forEach(r=>{let o=n[r];n[r]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(r).forEach(n=>{let o=r[n];r[n]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(o).forEach(n=>{let r=o[n];o[n]=n=>{var o;return r(null!==(o=null!=n?n:e)&&void 0!==o?o:t)}}),{get:n,set:r,use:o}}return{get:l,set:c,use:s}},[a]:{atom:f},name:r};return{...d,[a]:{...d[a],scope:t,extend:(e,n)=>B(e,{scope:t,initialStore:d,...n})}}};function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let A=v.zt,D="element",{elementStore:F,useElementStore:L}=B({element:null},{name:"element"}),T=({element:e,scope:t,children:n})=>{let r=L().set.element(t),o=L().set.element(D);return(0,h.useEffect)(()=>{r(e),o(e)},[e,r,o]),n},K=({element:e,scope:t,children:n,...r})=>h.createElement(A,M({initialValues:[[F.atom.element,e]],scope:D},r),h.createElement(A,M({initialValues:[[F.atom.element,e]],scope:t},r),h.createElement(T,{element:e,scope:t},n))),N=(e=D)=>{let t=L().get.element(e);return t||(console.warn("The `useElement(pluginKey)` hook must be used inside the node component's context"),{})},z=({attributes:e,children:t,text:n,leaf:r,editor:o,nodeProps:i,...u})=>h.createElement("span",M({},e,u),t);var I=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},U=function(e,t){return e===t||e!=e&&t!=t},V=function(e,t){for(var n=e.length;n--;)if(U(e[n][0],t))return n;return -1},W=Array.prototype.splice;function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=V(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),--this.size,!0)},H.prototype.get=function(e){var t=this.__data__,n=V(t,e);return n<0?void 0:t[n][1]},H.prototype.has=function(e){return V(this.__data__,e)>-1},H.prototype.set=function(e,t){var n=this.__data__,r=V(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function $(e,t){return e(t={exports:{}},t.exports),t.exports}var q="object"==typeof R&&R&&R.Object===Object&&R,G="object"==typeof self&&self&&self.Object===Object&&self,Z=q||G||Function("return this")(),Q=Z.Symbol,Y=Object.prototype,J=Y.hasOwnProperty,X=Y.toString,ee=Q?Q.toStringTag:void 0,et=function(e){var t=J.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var o=X.call(e);return r&&(t?e[ee]=n:delete e[ee]),o},en=Object.prototype.toString,er=Q?Q.toStringTag:void 0,eo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":er&&er in Object(e)?et(e):en.call(e)},ei=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},eu=function(e){if(!ei(e))return!1;var t=eo(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ea=Z["__core-js_shared__"],el=(r=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ec=Function.prototype.toString,es=function(e){if(null!=e){try{return ec.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ef=/^\[object .+?Constructor\]$/,ed=Object.prototype,ep=Function.prototype.toString,ev=ed.hasOwnProperty,eh=RegExp("^"+ep.call(ev).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ey=function(e,t){var n,r=null==e?void 0:e[t];return ei(n=r)&&(!el||!(el in n))&&(eu(n)?eh:ef).test(es(n))?r:void 0},eb=ey(Z,"Map"),eg=ey(Object,"create"),em=Object.prototype.hasOwnProperty,ej=Object.prototype.hasOwnProperty;function ew(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ew.prototype.clear=function(){this.__data__=eg?eg(null):{},this.size=0},ew.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ew.prototype.get=function(e){var t=this.__data__;if(eg){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return em.call(t,e)?t[e]:void 0},ew.prototype.has=function(e){var t=this.__data__;return eg?void 0!==t[e]:ej.call(t,e)},ew.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eg&&void 0===t?"__lodash_hash_undefined__":t,this};var eO=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ek=function(e,t){var n=e.__data__;return eO(t)?n["string"==typeof t?"string":"hash"]:n.map};function eC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function eE(e){var t=this.__data__=new H(e);this.size=t.size}eC.prototype.clear=function(){this.size=0,this.__data__={hash:new ew,map:new(eb||H),string:new ew}},eC.prototype.delete=function(e){var t=ek(this,e).delete(e);return this.size-=t?1:0,t},eC.prototype.get=function(e){return ek(this,e).get(e)},eC.prototype.has=function(e){return ek(this,e).has(e)},eC.prototype.set=function(e,t){var n=ek(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},eE.prototype.clear=function(){this.__data__=new H,this.size=0},eE.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},eE.prototype.get=function(e){return this.__data__.get(e)},eE.prototype.has=function(e){return this.__data__.has(e)},eE.prototype.set=function(e,t){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!eb||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new eC(r)}return n.set(e,t),this.size=n.size,this};var e_=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},eS=function(){try{var e=ey(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ex=function(e,t,n){"__proto__"==t&&eS?eS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},eP=Object.prototype.hasOwnProperty,eB=function(e,t,n){var r=e[t];eP.call(e,t)&&U(r,n)&&(void 0!==n||t in e)||ex(e,t,n)},eM=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?ex(n,a,l):eB(n,a,l)}return n},eA=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},eD=function(e){return null!=e&&"object"==typeof e},eF=function(e){return eD(e)&&"[object Arguments]"==eo(e)},eL=Object.prototype,eT=eL.hasOwnProperty,eK=eL.propertyIsEnumerable,eN=eF(function(){return arguments}())?eF:function(e){return eD(e)&&eT.call(e,"callee")&&!eK.call(e,"callee")},ez=Array.isArray,eI=function(){return!1},eU=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Z.Buffer:void 0,i=o?o.isBuffer:void 0;e.exports=i||eI}),eV=/^(?:0|[1-9]\d*)$/,eW=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eV.test(e))&&e>-1&&e%1==0&&e<t},eH=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},eR={};eR["[object Float32Array]"]=eR["[object Float64Array]"]=eR["[object Int8Array]"]=eR["[object Int16Array]"]=eR["[object Int32Array]"]=eR["[object Uint8Array]"]=eR["[object Uint8ClampedArray]"]=eR["[object Uint16Array]"]=eR["[object Uint32Array]"]=!0,eR["[object Arguments]"]=eR["[object Array]"]=eR["[object ArrayBuffer]"]=eR["[object Boolean]"]=eR["[object DataView]"]=eR["[object Date]"]=eR["[object Error]"]=eR["[object Function]"]=eR["[object Map]"]=eR["[object Number]"]=eR["[object Object]"]=eR["[object RegExp]"]=eR["[object Set]"]=eR["[object String]"]=eR["[object WeakMap]"]=!1;var e$=function(e){return function(t){return e(t)}},eq=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&q.process,i=function(){try{var e=r&&r.require&&r.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),eG=eq&&eq.isTypedArray,eZ=eG?e$(eG):function(e){return eD(e)&&eH(e.length)&&!!eR[eo(e)]},eQ=Object.prototype.hasOwnProperty,eY=function(e,t){var n=ez(e),r=!n&&eN(e),o=!n&&!r&&eU(e),i=!n&&!r&&!o&&eZ(e),u=n||r||o||i,a=u?eA(e.length,String):[],l=a.length;for(var c in e)(t||eQ.call(e,c))&&!(u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eW(c,l)))&&a.push(c);return a},eJ=Object.prototype,eX=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||eJ;return e===n},e0=function(e,t){return function(n){return e(t(n))}},e1=e0(Object.keys,Object),e2=Object.prototype.hasOwnProperty,e3=function(e){if(!eX(e))return e1(e);var t=[];for(var n in Object(e))e2.call(e,n)&&"constructor"!=n&&t.push(n);return t},e9=function(e){return null!=e&&eH(e.length)&&!eu(e)},e6=function(e){return e9(e)?eY(e):e3(e)},e4=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},e7=Object.prototype.hasOwnProperty,e8=function(e){if(!ei(e))return e4(e);var t=eX(e),n=[];for(var r in e)"constructor"==r&&(t||!e7.call(e,r))||n.push(r);return n},e5=function(e){return e9(e)?eY(e,!0):e8(e)},te=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Z.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}),tt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},tn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i},tr=function(){return[]},to=Object.prototype.propertyIsEnumerable,ti=Object.getOwnPropertySymbols,tu=ti?function(e){return null==e?[]:tn(ti(e=Object(e)),function(t){return to.call(e,t)})}:tr,ta=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},tl=e0(Object.getPrototypeOf,Object),tc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ta(t,tu(e)),e=tl(e);return t}:tr,ts=function(e,t,n){var r=t(e);return ez(e)?r:ta(r,n(e))},tf=function(e){return ts(e,e6,tu)},td=function(e){return ts(e,e5,tc)},tp=ey(Z,"DataView"),tv=ey(Z,"Promise"),th=ey(Z,"Set"),ty=ey(Z,"WeakMap"),tb="[object Map]",tg="[object Promise]",tm="[object Set]",tj="[object WeakMap]",tw="[object DataView]",tO=es(tp),tk=es(eb),tC=es(tv),tE=es(th),t_=es(ty),tS=eo;(tp&&tS(new tp(new ArrayBuffer(1)))!=tw||eb&&tS(new eb)!=tb||tv&&tS(tv.resolve())!=tg||th&&tS(new th)!=tm||ty&&tS(new ty)!=tj)&&(tS=function(e){var t=eo(e),n="[object Object]"==t?e.constructor:void 0,r=n?es(n):"";if(r)switch(r){case tO:return tw;case tk:return tb;case tC:return tg;case tE:return tm;case t_:return tj}return t});var tx=tS,tP=Object.prototype.hasOwnProperty,tB=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tP.call(e,"index")&&(n.index=e.index,n.input=e.input),n},tM=Z.Uint8Array,tA=function(e){var t=new e.constructor(e.byteLength);return new tM(t).set(new tM(e)),t},tD=function(e,t){var n=t?tA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},tF=/\w*$/,tL=function(e){var t=new e.constructor(e.source,tF.exec(e));return t.lastIndex=e.lastIndex,t},tT=Q?Q.prototype:void 0,tK=tT?tT.valueOf:void 0,tN=function(e,t){var n=t?tA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tz=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tA(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return tD(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tN(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tL(e);case"[object Symbol]":return tK?Object(tK.call(e)):{}}},tI=Object.create,tU=function(){function e(){}return function(t){if(!ei(t))return{};if(tI)return tI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tV=function(e){return"function"!=typeof e.constructor||eX(e)?{}:tU(tl(e))},tW=eq&&eq.isMap,tH=tW?e$(tW):function(e){return eD(e)&&"[object Map]"==tx(e)},tR=eq&&eq.isSet,t$=tR?e$(tR):function(e){return eD(e)&&"[object Set]"==tx(e)},tq="[object Arguments]",tG="[object Function]",tZ="[object Object]",tQ={};tQ[tq]=tQ["[object Array]"]=tQ["[object ArrayBuffer]"]=tQ["[object DataView]"]=tQ["[object Boolean]"]=tQ["[object Date]"]=tQ["[object Float32Array]"]=tQ["[object Float64Array]"]=tQ["[object Int8Array]"]=tQ["[object Int16Array]"]=tQ["[object Int32Array]"]=tQ["[object Map]"]=tQ["[object Number]"]=tQ[tZ]=tQ["[object RegExp]"]=tQ["[object Set]"]=tQ["[object String]"]=tQ["[object Symbol]"]=tQ["[object Uint8Array]"]=tQ["[object Uint8ClampedArray]"]=tQ["[object Uint16Array]"]=tQ["[object Uint32Array]"]=!0,tQ["[object Error]"]=tQ[tG]=tQ["[object WeakMap]"]=!1;var tY=function e(t,n,r,o,i,u){var a,l=1&n,c=2&n;if(r&&(a=i?r(t,o,i,u):r(t)),void 0!==a)return a;if(!ei(t))return t;var s=ez(t);if(s){if(a=tB(t),!l)return tt(t,a)}else{var f,d,p,v,h=tx(t),y=h==tG||"[object GeneratorFunction]"==h;if(eU(t))return te(t,l);if(h==tZ||h==tq||y&&!i){if(a=c||y?{}:tV(t),!l)return c?(d=(f=a)&&eM(t,e5(t),f),eM(t,tc(t),d)):(v=(p=a)&&eM(t,e6(t),p),eM(t,tu(t),v))}else{if(!tQ[h])return i?t:{};a=tz(t,h,l)}}u||(u=new eE);var b=u.get(t);if(b)return b;u.set(t,a),t$(t)?t.forEach(function(o){a.add(e(o,n,r,o,t,u))}):tH(t)&&t.forEach(function(o,i){a.set(i,e(o,n,r,i,t,u))});var g=s?void 0:(4&n?c?td:tf:c?e5:e6)(t);return e_(g||t,function(o,i){g&&(o=t[i=o]),eB(a,i,e(o,n,r,i,t,u))}),a},tJ=function(e){return"symbol"==typeof e||eD(e)&&"[object Symbol]"==eo(e)},tX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t0=/^\w*$/,t1=function(e,t){if(ez(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||tJ(e))||t0.test(e)||!tX.test(e)||null!=t&&e in Object(t)};function t2(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(t2.Cache||eC),n}t2.Cache=eC;var t3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t9=/\\(\\)?/g,t6=(i=(o=t2(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(t3,function(e,n,r,o){t.push(r?o.replace(t9,"$1"):n||e)}),t},function(e){return 500===i.size&&i.clear(),e})).cache,o),t4=1/0,t7=Q?Q.prototype:void 0,t8=t7?t7.toString:void 0,t5=function e(t){if("string"==typeof t)return t;if(ez(t))return I(t,e)+"";if(tJ(t))return t8?t8.call(t):"";var n=t+"";return"0"==n&&1/t==-t4?"-0":n},ne=function(e,t){return ez(e)?e:t1(e,t)?[e]:t6(null==e?"":t5(e))},nt=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},nn=1/0,nr=function(e){if("string"==typeof e||tJ(e))return e;var t=e+"";return"0"==t&&1/e==-nn?"-0":t},no=function(e,t){t=ne(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[nr(t[n++])];return n&&n==r?e:void 0},ni=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},nu=function(e,t){var n,r;return t=ne(t,e),n=e,null==(e=(r=t).length<2?n:no(n,ni(r,0,-1)))||delete e[nr(nt(t))]},na=Object.prototype,nl=Function.prototype.toString,nc=na.hasOwnProperty,ns=nl.call(Object),nf=function(e){if(!eD(e)||"[object Object]"!=eo(e))return!1;var t=tl(e);if(null===t)return!0;var n=nc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&nl.call(n)==ns},nd=function(e){return nf(e)?void 0:e},np=Q?Q.isConcatSpreadable:void 0,nv=function(e){return ez(e)||eN(e)||!!(np&&e&&e[np])},nh=function e(t,n,r,o,i){var u=-1,a=t.length;for(r||(r=nv),i||(i=[]);++u<a;){var l=t[u];n>0&&r(l)?n>1?e(l,n-1,r,o,i):ta(i,l):o||(i[i.length]=l)}return i},ny=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},nb=Math.max,ng=function(e,t,n){return t=nb(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nb(r.length-t,0),u=Array(i);++o<i;)u[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(u),ny(e,this,a)}},nm=function(e){return e},nj=Date.now,nw=(u=eS?function(e,t){return eS(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:nm,a=0,l=0,function(){var e=nj(),t=16-(e-l);if(l=e,t>0){if(++a>=800)return arguments[0]}else a=0;return u.apply(void 0,arguments)}),nO=nw(ng(c=function(e,t){var n={};if(null==e)return n;var r=!1;t=I(t,function(t){return t=ne(t,e),r||(r=t.length>1),t}),eM(e,td(e),n),r&&(n=tY(n,7,nd));for(var o=t.length;o--;)nu(n,t[o]);return n},void 0,function(e){return(null==e?0:e.length)?nh(e,1):[]}),c+"");let nk=(0,g.MT)("event-editor")({blur:null,focus:null,last:null}),nC=nk.set,nE=nk.get,n_=nk.use,nS="plate",nx=Symbol("global-plate"),nP=(0,v.cn)(nS),nB=()=>(0,v.KO)(nP,nx)[0],{plateStore:nM,usePlateStore:nA}=(({decorate:e=null,editor:t=null,id:n,isRendered:r=!1,keyDecorate:o="1",keyEditor:i="1",keySelection:u="1",onChange:a=null,plugins:l=[],rawPlugins:c=[],readOnly:s=!1,renderElement:f=null,renderLeaf:d=null,value:p=null,...v}={})=>{let h=B({decorate:e,editor:t,id:n,isRendered:r,keyDecorate:o,keyEditor:i,keySelection:u,onChange:a,plugins:l,rawPlugins:c,readOnly:s,renderElement:f,renderLeaf:d,value:p,...v},{scope:nS,name:"plate"});return{plateStore:h.plateStore,usePlateStore:e=>{let t=nB();return(0,m.$K)(e)||h.usePlateStore(e).get.id(e)?h.usePlateStore(e):h.usePlateStore(t)}}})(),nD=e=>nA(e).get,nF=e=>nA(e).set,nL=e=>nA(e).use,nT=(e,t)=>{let n=nF(t)[e]();return(0,h.useCallback)(()=>{n((0,y.x0)())},[n])},nK=({node:e,path:t=[],source:n,apply:r,query:o})=>{(0,w.Vq)([e,t],o)&&(n instanceof Function?r(e,n()):r(e,n)),(0,w.jg)(e)&&e.children.forEach((e,i)=>{nK({node:e,path:t.concat([i]),source:n,apply:r,query:o})})};var nN=function(e,t){return nw(ng(e,t,nm),e+"")},nz=function(e,t,n){(void 0===n||U(e[t],n))&&(void 0!==n||t in e)||ex(e,t,n)},nI=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),u=i.length;u--;){var a=i[++r];if(!1===t(o[a],a,o))break}return e},nU=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},nV=function(e,t,n,r,o,i,u){var a=nU(e,n),l=nU(t,n),c=u.get(l);if(c){nz(e,n,c);return}var s=i?i(a,l,n+"",e,t,u):void 0,f=void 0===s;if(f){var d=ez(l),p=!d&&eU(l),v=!d&&!p&&eZ(l);(s=l,d||p||v)?ez(a)?s=a:eD(a)&&e9(a)?s=tt(a):p?(f=!1,s=te(l,!0)):v?(f=!1,s=tN(l,!0)):s=[]:nf(l)||eN(l)?(s=a,eN(a))?s=eM(a,e5(a)):(!ei(a)||eu(a))&&(s=tV(l)):f=!1}f&&(u.set(l,s),o(s,l,r,i,u),u.delete(l)),nz(e,n,s)},nW=function e(t,n,r,o,i){t!==n&&nI(n,function(u,a){if(i||(i=new eE),ei(u))nV(t,n,a,r,e,o,i);else{var l=o?o(nU(t,a),u,a+"",t,n,i):void 0;void 0===l&&(l=u),nz(t,a,l)}},e5)},nH=function e(t,n,r,o,i,u){return ei(t)&&ei(n)&&(u.set(n,t),nW(t,n,void 0,e,u),u.delete(n)),t},nR=function(e,t,n){if(!ei(n))return!1;var r=typeof t;return("number"==r?!!(e9(n)&&eW(t,n.length)):"string"==r&&t in n)&&U(n[t],e)},n$=function(e){return nN(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,u&&nR(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})},nq=n$(function(e,t,n,r){nW(e,t,n,r)}),nG=nN(function(e){return e.push(void 0,nH),ny(nq,void 0,e)});let nZ=(e,t={},n)=>{var r;if(t[e.key]){let{plugins:r,then:o,...i}=t[e.key];e=nG(i,e),n||null==r||r.forEach(t=>{e.plugins||(e.plugins=[]);let n=e.plugins.find(e=>e.key===t.key);n||e.plugins.push(t)})}e.plugins&&(e.plugins=e.plugins.map(e=>nZ(e,t,!0)));let{then:o}=e;return o?(void 0===e._thenReplaced&&(e._thenReplaced=0),e._thenReplaced<3&&(e.then=(n,r)=>{let i={key:e.key,...o(n,r)};return nG(nZ(i,t),i)},e._thenReplaced++)):null!==(r=t[e.key])&&void 0!==r&&r.then&&(e.then=t[e.key].then),e},nQ=e=>(t,n={})=>(n[e.key]=t,nZ({...e},n)),nY="deserializeAst",nJ=nQ({key:nY,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{let t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}}),nX=(e,t={})=>(0,w.Zg)(e,{...t,block:!0}),n0=(e,t)=>{var n;let{selection:r}=e;if(!r)return!1;let o=null===(n=nX(e,t))||void 0===n?void 0:n[1];return!!o&&((0,w.Vi)(e,r.focus,o)||(0,w.ul)(e.selection)&&(0,w.Vi)(e,r.anchor,o))},n1=e=>{let t=(0,w._6)(e);t&&Object.keys(t).forEach(t=>{(0,w.Ho)(e,t)})},n2="editorProtocol",n3=e=>{let{deleteBackward:t,deleteForward:n,deleteFragment:r}=e,o=()=>{n0(e)&&n1(e)};return e.deleteBackward=e=>{t(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{r(e),o()},e},n9=nQ({key:n2,withOverrides:n3}),n6="event-editor",n4=nQ({key:n6,handlers:{onFocus:e=>()=>{nC.focus(e.id)},onBlur:e=>()=>{let t=nE.focus();t===e.id&&nC.focus(null),nC.blur(e.id)}}}),n7=e=>(0,O.VC)(e),n8=nQ({key:"history",withOverrides:n7}),n5="inline-void",re=e=>{let{isInline:t}=e,{isVoid:n}=e,r=[],o=[];return e.plugins.forEach(e=>{e.isInline&&r.push(e.type),e.isVoid&&o.push(e.type)}),e.isInline=e=>!!r.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||n(e),e},rt=nQ({key:n5,withOverrides:re}),rn=(e,t)=>{let n=[];return[...e.plugins].reverse().forEach(e=>{var r;let o=null===(r=e.inject.pluginsByKey)||void 0===r?void 0:r[t.key];o&&n.push(o)}),[t,...n]},rr=(e,{data:t,dataTransfer:n})=>e.every(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:n})}),ro=(e,t,{fragment:n,...r})=>{(0,w.kR)(e,()=>{t.some(e=>{var t,o,i;return(null===(t=e.editor)||void 0===t?void 0:null===(o=t.insertData)||void 0===o?void 0:null===(i=o.preInsert)||void 0===i?void 0:i.call(o,n,r))===!0}),e.insertFragment(n)})},ri=(e,{data:t,dataTransfer:n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:n}))}),t),ru=(e,{fragment:t,...n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,n))}),t),ra=e=>{let{insertData:t}=e;return e.insertData=n=>{let r=[...e.plugins].reverse().some(t=>{var r;let o=t.editor.insertData;if(!o)return!1;let i=rn(e,t),{format:u,getFragment:a}=o;if(!u)return!1;let l=n.getData(u);if(!l)return;if(!rr(i,{data:l,dataTransfer:n}))return!1;l=ri(i,{data:l,dataTransfer:n});let c=null==a?void 0:a({data:l,dataTransfer:n});return null!==(r=c)&&void 0!==r&&!!r.length&&!!(c=ru(i,{fragment:c,data:l,dataTransfer:n})).length&&(ro(e,i,{fragment:c,data:l,dataTransfer:n}),!0)});r||t(n)},e},rl="insertData",rc=nQ({key:rl,withOverrides:ra}),rs="p",rf="nodeFactory",rd=nQ({key:rf,withOverrides:e=>(e.blockFactory=t=>({type:rC(e,rs),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),rp="prevSelection",rv=nQ({key:rp,handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{let{apply:t}=e;return e.apply=n=>{if("set_selection"===n.type){let{properties:r}=n;e.prevSelection=r,t(n),e.currentKeyboardEvent=null;return}t(n)},e}}),rh=e=>(0,k.BU)(e),ry=nQ({key:"react",withOverrides:rh}),rb="\r",rg="\n",rm="\xa0",rj=" ",rw="	",rO=e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}},rk=(e,t)=>{var n;return null!==(n=rO(e)[t])&&void 0!==n?n:{key:t}},rC=(e,t)=>{var n,r;return null!==(n=null!==(r=rk(e,t).type)&&void 0!==r?r:t)&&void 0!==n?n:""},rE=e=>t=>(0,w.Gs)(t)||(0,w.kK)(t)&&e.isInline(t),r_=e=>()=>({type:e,children:[]}),rS=(e,t)=>e.some((e,n,r)=>{let o=r[n-1];return 0!==n&&t(e)!==t(o)}),rx=(e,t,n)=>{let r=rS(e,t),{fragment:o}=e.reduce((e,o)=>{if(r&&t(o)){let t=e.precedingBlock;t||(t=n(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return o},rP=e=>e.length?e:[{text:""}],rB=(e,t,n)=>e=(e=rx(e=rP(e),t,n)).map(e=>(0,w.kK)(e)?{...e,children:rB(e.children,t,n)}:e),rM=(e,{descendants:t})=>{let n=rE(e),r=rC(e,rs),o=r_(r);return rB(t,n,o)};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rA(e){return"[object Object]"===Object.prototype.toString.call(e)}function rD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rF=new WeakMap,rL=new WeakMap;class rT{}class rK extends rT{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}class rN extends rT{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}var rz=(e,t)=>{var n=e.text.length;rF.set(e,[n,t])},rI=e=>rF.get(e),rU=(e,t)=>{var n=e.text.length;rL.set(e,[n,t])},rV=e=>rL.get(e);function rW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rW(Object(n),!0).forEach(function(t){rD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rR=new WeakSet,r$=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var o={text:e};rR.add(o),e=o}if(_.xv.isText(e)){var i=e;_.xv.isText(r)&&rR.has(r)&&rR.has(i)&&_.xv.equals(r,i,{loose:!0})?r.text+=i.text:t.push(i)}else if(_.W_.isElement(e))t.push(e);else if(e instanceof rT){var u=t[t.length-1];_.xv.isText(u)||(n(""),u=t[t.length-1]),e instanceof rK?rz(u,e):e instanceof rN&&rU(u,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))n(r);return t};function rq(e,t,n){return rH(rH({},t),{},{children:r$(n)})}function rG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(n),!0).forEach(function(t){rD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rQ={anchor:function(e,t,n){return new rK(t)},cursor:function(e,t,n){return[new rK(t),new rN(t)]},editor:(s=_.Jh,(e,t,n)=>{var r,o=[];for(var i of n)_.e6.isRange(i)?r=i:o.push(i);var u=r$(o),a={},l=s();for(var[c,f]of(Object.assign(l,t),l.children=u,_.NB.texts(l))){var d=rI(c),p=rV(c);if(null!=d){var[v]=d;a.anchor={path:f,offset:v}}if(null!=p){var[h]=p;a.focus={path:f,offset:h}}}if(a.anchor&&!a.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!a.anchor&&a.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=r?l.selection=r:_.e6.isRange(a)&&(l.selection=a),l}),element:rq,focus:function(e,t,n){return new rN(t)},fragment:function(e,t,n){return r$(n)},selection:function(e,t,n){var r=n.find(e=>e instanceof rK),o=n.find(e=>e instanceof rN);if(!r||null==r.offset||null==r.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return rH({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=r$(n);if(r.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(null==o&&(o={text:""}),!_.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return rR.delete(o),Object.assign(o,t),o}},rY=e=>function(t,n){for(var r,o,i,u=arguments.length,a=Array(u>2?u-2:0),l=2;l<u;l++)a[l-2]=arguments[l];var c=e[t];if(!c)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==n&&(n={}),!1!==rA(r=n)&&(void 0===(o=r.constructor)||!1!==rA(i=o.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))||(a=[n].concat(a),n={}),a=a.filter(e=>Boolean(e)).flat(),c(t,n,a)},rJ=e=>{var t={};for(var n in e)!function(n){var r=e[n];if("object"!=typeof r)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>rq("element",rZ(rZ({},r),t),n)}(n);return t},rX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=rJ(t);return rY(rZ(rZ(rZ({},rQ),n),e.creators))}();let r0=(e,t)=>Array.from(t.childNodes).map(on(e)).flat(),r1=(e,t)=>{if("BODY"===t.nodeName)return rX("fragment",{},r0(e,t))},r2=e=>{if("BR"===e.nodeName)return"\n"};var r3=function(){if(!arguments.length)return[];var e=arguments[0];return ez(e)?e:[e]};let r9=(e,t,{element:n,deserializeLeaf:r})=>{var o;let{deserializeHtml:i,isElement:u,isLeaf:a,type:l}=t;if(!i)return;let{attributeNames:c,query:s,isLeaf:f,isElement:d,rules:p}=i,{getNode:v}=i,h=d||u,y=f||a;if(!r&&!h||r&&!y)return;if(p){let e=p.some(({validNodeName:e="*",validStyle:r,validClassName:o,validAttribute:i})=>{if(e){let t=r3(e);if(t.length&&!t.includes(n.nodeName)&&"*"!==e)return!1}if(o&&!n.classList.contains(o))return!1;if(r)for(let[e,o]of Object.entries(r)){var u;let r=r3(o);if(!r.includes(n.style[e])&&"*"!==o||"*"===o&&!n.style[e])return;let i=null===(u=t.inject.props)||void 0===u?void 0:u.defaultNodeValue;if(i&&i===n.style[e])return!1}if(i){if("string"==typeof i){if(!n.getAttributeNames().includes(i))return!1}else for(let[e,t]of Object.entries(i)){let r=r3(t),o=n.getAttribute(e);if(!o||!r.includes(o))return!1}}return!0});if(!e)return}if(s&&!s(n))return;if(!v){if(h)v=()=>({type:l});else{if(!y)return;v=()=>({[l]:!0})}}let b=null!==(o=v(n,{}))&&void 0!==o?o:{};if(!Object.keys(b).length)return;let g=rn(e,t);if(g.forEach(e=>{var t,r;let o=null===(t=e.deserializeHtml)||void 0===t?void 0:null===(r=t.getNode)||void 0===r?void 0:r.call(t,n,b);o&&(b={...b,...o})}),c){let e={},t=n.getAttributeNames();for(let r of t)c.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length&&(b.attributes=e)}return{...i,node:b}},r6=(e,t)=>{let n;return[...e.plugins].reverse().some(r=>!!(n=r9(e,r,{element:t}))),n},r4=(e,t)=>{let n=r6(e,t);if(n){var r;let{node:o,withoutChildren:i}=n,u=null!==(r=o.children)&&void 0!==r?r:r0(e,t);return(!u.length||i)&&(u=[{text:""}]),rX("element",o,u)}},r7=(e,t)=>{let n={};return[...e.plugins].reverse().forEach(r=>{let o=r9(e,r,{element:t,deserializeLeaf:!0});o&&(n={...n,...o.node})}),n},r8=(e,t)=>{let n=r7(e,t);return r0(e,t).reduce((e,t)=>{if(!t)return e;if((0,w.kK)(t))Object.keys(n).length&&iM({node:t,source:n,query:{filter:([e])=>(0,w.Gs)(e)}}),e.push(t);else{let r={...n};(0,w.Gs)(t)&&t.text&&Object.keys(r).forEach(e=>{r[e]&&t[e]&&(r[e]=t[e])}),e.push(rX("text",r,t))}return e},[])},r5=e=>e.nodeType===Node.TEXT_NODE,oe=e=>{if(r5(e)){var t,n;let r=null!==(t=null===(n=e.textContent)||void 0===n?void 0:n.replace(/^\n+|\n+$/g,""))&&void 0!==t?t:"";return r.length>0?r:null}},ot=e=>e.nodeType===Node.ELEMENT_NODE,on=e=>t=>{let n=oe(t);if(n)return n;if(!ot(t))return null;let r=r2(t);if(r)return r;let o=r1(e,t);if(o)return o;let i=r4(e,t);return i||r8(e,t)},or=(e,t)=>on(e)(t),oo=(e,t=!0)=>{let n=document.createElement("body");return n.innerHTML=e,t&&(n.innerHTML=n.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),n},oi=(e,{element:t,stripWhitespace:n=!0})=>{"string"==typeof t&&(t=oo(t,n));let r=or(e,t);return rM(e,{descendants:r})},ou=e=>new DOMParser().parseFromString(e,"text/html"),oa="deserializeHtml",ol=nQ({key:oa,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{let n=ou(t);return oi(e,{element:n.body})}}}})}),oc=(e,t)=>{let n=t(e);if(!n)return;let r=e.firstChild;for(;r;){let n=r,o=r.previousSibling;r=r.nextSibling,oc(n,t),n.previousSibling||n.nextSibling||n.parentNode||!r||o===r.previousSibling||!r.parentNode?n.previousSibling||n.nextSibling||n.parentNode||!r||r.previousSibling||r.nextSibling||r.parentNode||(o?r=o.nextSibling?o.nextSibling.nextSibling:null:e.firstChild&&(r=e.firstChild.nextSibling)):r=o?o.nextSibling:e.firstChild}},os=(e,t)=>{oc(e,e=>!ot(e)||t(e))},of=e=>{os(e,e=>{if("BR"!==e.tagName)return!0;let t=document.createTextNode(rg);return e.parentElement&&e.parentElement.replaceChild(t,e),!1})},od=e=>e.replace(/(\r\n|\r)/gm,"\n"),op=["BR","IMG"],ov=e=>!op.includes(e.nodeName)&&!e.innerHTML.trim(),oh=e=>{if(ov(e)){let{parentElement:t}=e;e.remove(),t&&oh(t)}},oy=e=>{os(e,e=>(oh(e),!0))},ob=(e,t)=>{let n=document.createElement(t);for(let{name:t}of(n.innerHTML=e.innerHTML,e.attributes)){let r=e.getAttribute(t);r&&n.setAttribute(t,r)}return e.parentNode&&e.parentNode.replaceChild(n,e),n},og=e=>{os(e,e=>("FONT"===e.tagName&&(e.textContent?ob(e,"span"):e.remove()),!0))},om=e=>e.startsWith("#"),oj=e=>{e.outerHTML=e.innerHTML},ow=e=>{os(e,e=>{if("A"!==e.tagName)return!0;let t=e.getAttribute("href");if((!t||om(t))&&oj(e),t&&e.querySelector("img"))for(let t of e.querySelectorAll("span"))t.innerText||oj(t);return!0})},oO=(e,t)=>{oc(e,e=>!r5(e)||t(e))},ok=e=>{oO(e,e=>{if(/^\n\s*$/.test(e.data)&&(e.previousElementSibling||e.nextElementSibling))return e.remove(),!0;if(e.data=e.data.replace(/\n\s*/g,"\n"),e.data.includes(rb)||e.data.includes(rg)||e.data.includes(rm)){let t=e.data.includes(rj),n=/\S/.test(e.data),r=e.data.includes(rg);if(!(t||n)&&!r)return e.data===rm?(e.data=rj,!0):(e.remove(),!0);if(e.previousSibling&&"BR"===e.previousSibling.nodeName&&e.parentElement){e.parentElement.removeChild(e.previousSibling);let t=e.data.match(/^[\r\n]+/),n=t?t[0].length:0;e.data=e.data.substring(n).replace(RegExp(rg,"g"),rj).replace(RegExp(rb,"g"),rj),e.data=`
${e.data}`}else e.data=e.data.replace(RegExp(rg,"g"),rj).replace(RegExp(rb,"g"),rj)}return!0})},oC=e=>/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i.test(e.nodeName),oE=e=>{os(e,e=>{let t=e.getAttribute("style");if(!t)return!0;if(oC(e)){let{style:{backgroundColor:t,color:n,fontFamily:r,fontSize:o,fontStyle:i,fontWeight:u,textDecoration:a}}=e;if(t||n||r||o||i||u||a){let t=document.createElement("span");["initial","inherit"].includes(n)||(t.style.color=n),t.style.fontFamily=r,t.style.fontSize=o,["normal","initial","inherit"].includes(n)||(t.style.fontStyle=i),["normal",400].includes(u)||(t.style.fontWeight=u),t.style.textDecoration=a,t.innerHTML=e.innerHTML,e.innerHTML=t.outerHTML}}return!0})},o_=(e,t)=>{let n=null;return os(e,e=>!t(e)||(n=e,!1)),n},oS=(e,t)=>!!o_(e,t),ox=()=>NodeFilter.FILTER_ACCEPT,oP=e=>{let t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:ox}),r=n.nextNode();for(;r;)r.nodeValue&&t.push(r.nodeValue),r=n.nextNode();return t},oB=e=>e.nodeType===Node.COMMENT_NODE,oM=e=>{let t=e.trim().replace(RegExp("​","g"),"");return`<body>${t}</body>`},oA=e=>{let t=e.indexOf("<html");return -1===t?e:e.substring(t)},oD=e=>{let t=e.lastIndexOf("</html>");return -1===t?e:e.substring(0,t+7)},oF=e=>oA(oD(e)),oL=[oF,od],oT=e=>oL.reduce((e,t)=>t(e),e),oK=(e,t)=>{oc(e,e=>!oB(e)||t(e))},oN=(e,t,n)=>{let r=e=>oB(e)&&e.data===n;oK(e,e=>{if(e.data===t){let t=e.nextSibling;for(e.remove();t&&!r(t);){let{nextSibling:e}=t;t.remove(),t=e}t&&r(t)&&t.remove()}return!0})};var oz=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(r,u,n(u),e)}return r},oI=function(e,t){if(null==e)return e;if(!e9(e))return e&&nI(e,t,e6);for(var n=e.length,r=f?n:-1,o=Object(e);(f?r--:++r<n)&&!1!==t(o[r],r,o););return e},oU=function(e,t,n,r){return oI(e,function(e,o,i){t(r,e,n(e),i)}),r};function oV(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new eC;++t<n;)this.add(e[t])}oV.prototype.add=oV.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oV.prototype.has=function(e){return this.__data__.has(e)};var oW=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},oH=function(e,t,n,r,o,i){var u=1&n,a=e.length,l=t.length;if(a!=l&&!(u&&l>a))return!1;var c=i.get(e),s=i.get(t);if(c&&s)return c==t&&s==e;var f=-1,d=!0,p=2&n?new oV:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],h=t[f];if(r)var y=u?r(h,v,f,t,e,i):r(v,h,f,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!oW(t,function(e,t){if(!p.has(t)&&(v===e||o(v,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(!(v===h||o(v,h,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d},oR=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},o$=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},oq=Q?Q.prototype:void 0,oG=oq?oq.valueOf:void 0,oZ=function(e,t,n,r,o,i,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new tM(e),new tM(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return U(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=oR;case"[object Set]":var l=1&r;if(a||(a=o$),e.size!=t.size&&!l)break;var c=u.get(e);if(c)return c==t;r|=2,u.set(e,t);var s=oH(a(e),a(t),r,o,i,u);return u.delete(e),s;case"[object Symbol]":if(oG)return oG.call(e)==oG.call(t)}return!1},oQ=Object.prototype.hasOwnProperty,oY=function(e,t,n,r,o,i){var u=1&n,a=tf(e),l=a.length;if(l!=tf(t).length&&!u)return!1;for(var c=l;c--;){var s=a[c];if(!(u?s in t:oQ.call(t,s)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=u;++c<l;){var h=e[s=a[c]],y=t[s];if(r)var b=u?r(y,h,s,t,e,i):r(h,y,s,e,t,i);if(!(void 0===b?h===y||o(h,y,n,r,i):b)){p=!1;break}v||(v="constructor"==s)}if(p&&!v){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},oJ="[object Arguments]",oX="[object Array]",o0="[object Object]",o1=Object.prototype.hasOwnProperty,o2=function(e,t,n,r,o,i){var u=ez(e),a=ez(t),l=u?oX:tx(e),c=a?oX:tx(t);l=l==oJ?o0:l,c=c==oJ?o0:c;var s=l==o0,f=c==o0,d=l==c;if(d&&eU(e)){if(!eU(t))return!1;u=!0,s=!1}if(d&&!s)return i||(i=new eE),u||eZ(e)?oH(e,t,n,r,o,i):oZ(e,t,l,n,r,o,i);if(!(1&n)){var p=s&&o1.call(e,"__wrapped__"),v=f&&o1.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,y=v?t.value():t;return i||(i=new eE),o(h,y,n,r,i)}}return!!d&&(i||(i=new eE),oY(e,t,n,r,o,i))},o3=function e(t,n,r,o,i){return t===n||(null!=t&&null!=n&&(eD(t)||eD(n))?o2(t,n,r,o,e,i):t!=t&&n!=n)},o9=function(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=n[o])[0],c=e[l],s=a[1];if(u&&a[2]){if(void 0===c&&!(l in e))return!1}else{var f=new eE;if(r)var d=r(c,s,l,e,t,f);if(!(void 0===d?o3(s,c,3,r,f):d))return!1}}return!0},o6=function(e){return e==e&&!ei(e)},o4=function(e){for(var t=e6(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o6(o)]}return t},o7=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},o8=function(e){var t=o4(e);return 1==t.length&&t[0][2]?o7(t[0][0],t[0][1]):function(n){return n===e||o9(n,e,t)}},o5=function(e,t,n){var r=null==e?void 0:no(e,t);return void 0===r?n:r},ie=function(e,t){return null!=e&&t in Object(e)},it=function(e,t,n){t=ne(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var u=nr(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eH(o)&&eW(u,o)&&(ez(e)||eN(e))},ir=function(e){var t;return t1(e)?(t=nr(e),function(e){return null==e?void 0:e[t]}):function(t){return no(t,e)}},io=function(e){if("function"==typeof e)return e;if(null==e)return nm;if("object"==typeof e){var t,n;return ez(e)?(t=e[0],n=e[1],t1(t)&&o6(n)?o7(nr(t),n):function(e){var r=o5(e,t);return void 0===r&&r===n?null!=e&&it(e,t,ie):o3(n,r,3)}):o8(e)}return ir(e)},ii=(d=function(e,t,n){ex(e,n,t)},function(e,t){var n=ez(e)?oz:oU,r=p?p():{};return n(e,d,io(t),r)}),iu=n$(function(e,t,n){nW(e,t,n)});let ia=(e,t)=>{let n={...t},{then:r}=n;if(r){delete n.then;let{plugins:t}=n,i=ia(e,nG(r(e,n),n));if(t&&i.plugins){var o;let e=iu(ii(t,"key"),ii(i.plugins,"key"));i.plugins=null==(o=e)?[]:I(e6(o),function(e){return o[e]})}return i}return n},il=e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e),ic=(e,t)=>{t&&t.forEach(t=>{let n=il(t);if(n=ia(e,n),e.pluginsByKey[n.key]){let t=e.plugins.indexOf(e.pluginsByKey[n.key]),r=nG(n,e.pluginsByKey[n.key]);t>=0&&(e.plugins[t]=r),e.pluginsByKey[n.key]=r}else e.plugins.push(n),e.pluginsByKey[n.key]=n;ic(e,n.plugins)})},is=(e,{disableCorePlugins:t,plugins:n=[]})=>{let r=[];if(!0!==t){var o,i,u,a,l,c,s,f,d,p,v,h,y,b,g,m,j,w,O,k;"object"==typeof t&&null!=t&&t.react||r.push(null!==(o=null==e?void 0:null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:ry()),"object"==typeof t&&null!=t&&t.history||r.push(null!==(u=null==e?void 0:null===(a=e.pluginsByKey)||void 0===a?void 0:a.history)&&void 0!==u?u:n8()),"object"==typeof t&&null!=t&&t.nodeFactory||r.push(null!==(l=null==e?void 0:null===(c=e.pluginsByKey)||void 0===c?void 0:c[rf])&&void 0!==l?l:rd()),"object"==typeof t&&null!=t&&t.eventEditor||r.push(null!==(s=null==e?void 0:null===(f=e.pluginsByKey)||void 0===f?void 0:f[n6])&&void 0!==s?s:n4()),"object"==typeof t&&null!=t&&t.inlineVoid||r.push(null!==(d=null==e?void 0:null===(p=e.pluginsByKey)||void 0===p?void 0:p[n5])&&void 0!==d?d:rt()),"object"==typeof t&&null!=t&&t.insertData||r.push(null!==(v=null==e?void 0:null===(h=e.pluginsByKey)||void 0===h?void 0:h[rl])&&void 0!==v?v:rc()),"object"==typeof t&&null!=t&&t.selection||r.push(null!==(y=null==e?void 0:null===(b=e.pluginsByKey)||void 0===b?void 0:b[rp])&&void 0!==y?y:rv()),"object"==typeof t&&null!=t&&t.deserializeHtml||r.push(null!==(g=null==e?void 0:null===(m=e.pluginsByKey)||void 0===m?void 0:m[oa])&&void 0!==g?g:ol()),"object"==typeof t&&null!=t&&t.deserializeAst||r.push(null!==(j=null==e?void 0:null===(w=e.pluginsByKey)||void 0===w?void 0:w[nY])&&void 0!==j?j:nJ()),"object"==typeof t&&null!=t&&t.editorProtocol||r.push(null!==(O=null==e?void 0:null===(k=e.pluginsByKey)||void 0===k?void 0:k[n2])&&void 0!==O?O:n9())}r=[...r,...n],e.plugins=[],e.pluginsByKey={},ic(e,r),e.plugins.forEach(t=>{if(t.overrideByKey){let n=e.plugins.map(e=>nZ(e,t.overrideByKey));e.plugins=[],e.pluginsByKey={},ic(e,n)}})},id=(e,{id:t,plugins:n=[],disableCorePlugins:r}={})=>{let o=e;return o.id=null!=t?t:o.id,o.prevSelection=null,o.currentKeyboardEvent=null,o.key||(o.key=Math.random()),is(o,{plugins:n,disableCorePlugins:r}),o.plugins.forEach(e=>{e.withOverrides&&(o=e.withOverrides(o,e))}),o};var ip=function(e){return tY(e,5)};let iv=(e,{components:t,overrideByKey:n}={})=>{let r={};return(n&&(r=ip(n)),t&&Object.keys(t).forEach(e=>{r[e]||(r[e]={}),r[e].component=t[e]}),Object.keys(r).length)?e.map(e=>nZ(e,r)):e},ih=({editor:e=(0,w.tc)(),plugins:t=[],components:n,overrideByKey:r,normalizeInitialValue:o,...i}={})=>{t=iv(t,{components:n,overrideByKey:r});let u=id(e,{plugins:t,...i});return o&&(0,w.Nh)(u,{force:!0}),u},iy=(e,t)=>{let n=r3(t),r=Object.values(e.pluginsByKey).filter(e=>n.includes(e.type));return r.map(e=>e.key)},ib=(e,t)=>{var n,r;return null!==(n=null===(r=rk(e,t).inject)||void 0===r?void 0:r.props)&&void 0!==n?n:{}},ig=(e,t)=>{var n;return null!==(n=rk(e,t).options)&&void 0!==n?n:{}},im=(e,t)=>t.map(t=>rC(e,t)),ij=e=>`slate-${e}`,iw=({attributes:e,nodeProps:t,props:n,type:r})=>{let o={};if(n){var i;o=null!==(i="function"==typeof n?n(t):n)&&void 0!==i?i:{}}!o.nodeProps&&e&&(o.nodeProps=e),t={...t,...o};let{className:u}=t;return{...t,className:(0,C.Z)(ij(r),u)}};var iO=$(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n=()=>"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n()?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},u=1;u<20;u++)i["f"+u]=111+u;function a(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return l(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function l(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),u=i.length;for(var a in r)o[r[a]]=!1;var l=!0,c=!1,d=void 0;try{for(var p,v=i[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var h=p.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var b=f(h),g=r[b];1!==u&&g||(n?o.key=b:o.which=s(h)),g&&(o[g]=!y||null)}}catch(e){c=!0,d=e}finally{try{!l&&v.return&&v.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}function s(e){return i[e=f(e)]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o()[e]||e}t.default=a,t.isHotkey=a,t.isCodeHotkey=function(e,t){return a(e,t)},t.isKeyHotkey=function(e,t){return a(e,{byKey:!0},t)},t.parseHotkey=l,t.compareHotkey=c,t.toKeyCode=s,t.toKeyName=f});iO&&iO.__esModule&&Object.prototype.hasOwnProperty.call(iO,"default")&&iO.default,iO.isHotkey,iO.isCodeHotkey;var ik=iO.isKeyHotkey;iO.parseHotkey,iO.compareHotkey,iO.toKeyCode,iO.toKeyName;let iC={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},iE={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},i_={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},iS=e=>{let t=iC[e],n=iE[e],r=i_[e],o=t&&ik(t),i=n&&ik(n),u=r&&ik(r);return e=>!!(o&&o(e)||m.jB&&i&&i(e)||!m.jB&&u&&u(e))},ix=e=>(t,n,{composing:r}={})=>!!iS(e)(n)&&!!r===(0,E.bH)(t),iP={isBold:iS("bold"),isCompose:iS("compose"),isMoveBackward:iS("moveBackward"),isMoveForward:iS("moveForward"),isDeleteBackward:iS("deleteBackward"),isDeleteForward:iS("deleteForward"),isDeleteLineBackward:iS("deleteLineBackward"),isDeleteLineForward:iS("deleteLineForward"),isDeleteWordBackward:iS("deleteWordBackward"),isDeleteWordForward:iS("deleteWordForward"),isExtendBackward:iS("extendBackward"),isExtendForward:iS("extendForward"),isExtendLineBackward:iS("extendLineBackward"),isExtendLineForward:iS("extendLineForward"),isItalic:iS("italic"),isMoveLineBackward:iS("moveLineBackward"),isMoveLineForward:iS("moveLineForward"),isMoveWordBackward:iS("moveWordBackward"),isMoveWordForward:iS("moveWordForward"),isRedo:iS("redo"),isSoftBreak:iS("insertSoftBreak"),isSplitBlock:iS("splitBlock"),isTab:ix("tab"),isTransposeCharacter:iS("transposeCharacter"),isUndo:iS("undo"),isUntab:ix("untab")},iB=(e,t,n)=>{var r;let o=null===(r=t.inject.props)||void 0===r?void 0:r.validTypes;if(!o)return;let i=iy(e,o),u={};return i.forEach(e=>{u[e]=n}),{inject:{pluginsByKey:u}}},iM=e=>{nK({...e,apply:iu})},iA=e=>({key:"",type:"",editor:{},inject:{},options:{},...e}),iD=(e,t)=>{let n=ip(t);if(e.plugins.forEach(e=>{var t;let r=null===(t=e.normalizeInitialValue)||void 0===t?void 0:t.call(e,n);r&&(n=r)}),!o3(t,n))return n},iF=(e,t)=>{let n=e.plugins.flatMap(t=>{var n,r;return null!==(n=null===(r=t.decorate)||void 0===r?void 0:r.call(t,e,t))&&void 0!==n?n:[]});if(t&&n.push(t),n.length)return e=>{let t=[],r=e=>{null!=e&&e.length&&(t=[...t,...e])};return n.forEach(t=>{r(t(e))}),t}},iL=(e,t)=>{if(!t)return!1;let n=t(e);return null!=n?n:e.isPropagationStopped()},iT=(e,{editableProps:t,handlerKey:n})=>{let r=[];r=e.plugins.flatMap(t=>{var r,o,i;return null!==(r=null===(o=t.handlers)||void 0===o?void 0:null===(i=o[n])||void 0===i?void 0:i.call(o,e,t))&&void 0!==r?r:[]});let o=null==t?void 0:t[n];if(r.length||o)return e=>{let t=r.some(t=>iL(e,t));return!!t||iL(e,o)}},iK=(e,{key:t,inject:{props:n}},r)=>{var o,i,u;let{element:a,text:l,className:c,style:s}=r,f=null!=a?a:l;if(!f||!n)return;let{nodeKey:d=t,styleKey:p=d,validTypes:v,classNames:h,transformClassName:y,transformNodeValue:b,transformStyle:g,validNodeValues:m,defaultNodeValue:j}=n;if(v&&(0,w.kK)(f)&&f.type&&!v.includes(f.type))return;let O=f[d];if(!O||m&&!m.includes(O)||O===j)return;let k={},E={...r,nodeValue:O},_=null!==(o=null==b?void 0:b(E))&&void 0!==o?o:O;return a&&(k.className=(0,C.Z)(c,`slate-${d}-${O}`)),(null!=h&&h[O]||y)&&(k.className=null!==(i=null==y?void 0:y(E))&&void 0!==i?i:(0,C.Z)(c,null==h?void 0:h[_])),p&&(k.style=null!==(u=null==g?void 0:g(E))&&void 0!==u?u:{...s,[p]:_}),k},iN=(e,t)=>(e.plugins.forEach(n=>{if(n.inject.props){let r=iK(e,n,t);r&&(t={...t,...r})}}),{...t,editor:e}),iz=e=>{let t=e.plugins.flatMap(t=>{var n,r,o;return null!==(n=null===(r=t.handlers)||void 0===r?void 0:null===(o=r.onChange)||void 0===o?void 0:o.call(r,e,t))&&void 0!==n?n:[]});return e=>t.some(t=>{if(!t)return!1;let n=t(e);return null!=n&&n})},iI=(e,{key:t,type:n,component:r,props:o})=>i=>{let{element:u,children:a}=i;if(u.type===n){let l=null!=r?r:k.Qr,c=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.aboveComponent)&&void 0!==t?t:[]}),s=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.belowComponent)&&void 0!==t?t:[]});i=iw({attributes:u.attributes,nodeProps:i,props:o,type:n});let f=a;s.forEach(e=>{let n=e({...i,key:t});n&&(f=n({...i,children:f}))});let d=h.createElement(l,i,f);return c.forEach(e=>{let n=e({...i,key:t});n&&(d=n({...i,children:d}))}),h.createElement(K,{element:u,scope:t},d)}},iU=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isElement&&n.push(iI(e,t))}),r=>{let o;let i=iN(e,r);return(n.some(e=>!!(o=e(i))),o)?o:t?t(i):h.createElement(k.Qr,i)}},iV=(e,{key:t,type:n=t,component:r,props:o})=>e=>{let{leaf:t,children:i}=e;return t[n]?(e=iw({attributes:t.attributes,props:o,nodeProps:e,type:n}),h.createElement(null!=r?r:z,e,i)):i},iW=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isLeaf&&t.key&&n.push(iV(e,t))}),r=>{let o=iN(e,r);return(n.forEach(e=>{let t=e(o);void 0!==t&&(o.children=t)}),t)?t(o):h.createElement(z,o)}},iH=(e,t)=>{let n=[];return Object.keys(t).forEach(r=>{r in e.atom&&n.push([e.atom[r],t[r]])}),n},iR=e=>{let t=nD(e).editor(),n=nF(e).editor();return(0,h.useCallback)(()=>{let e=ih({id:t.id,plugins:t.plugins,disableCorePlugins:!0});n(e)},[t,n])},i$=e=>nD(e).editor(),iq=e=>(nD(e).keyEditor(),i$(e)),iG=e=>(nD(e).keySelection(),i$(e).selection),iZ=e=>{var t;let n=n_.focus(),r=n_.blur(),o=n_.last(),i=nD().id();return e||n||r||(null!==(t=null!=o?o:i)&&void 0!==t?t:nS)},iQ=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iY=({id:e,...t}={})=>{var n,r,o;let i=i$(e),u=nD(e),a=u.keyDecorate(),l=u.readOnly(),c=null===(n=u.decorate())||void 0===n?void 0:n.fn,s=null===(r=u.renderLeaf())||void 0===r?void 0:r.fn,f=null===(o=u.renderElement())||void 0===o?void 0:o.fn,d=(0,h.useMemo)(()=>iF(i,null!=c?c:null==t?void 0:t.decorate),[null==t?void 0:t.decorate,i,c]),p=(0,h.useMemo)(()=>{if(a&&d)return e=>d(e)},[d,a]),v=(0,h.useMemo)(()=>iU(i,null!=f?f:null==t?void 0:t.renderElement),[null==t?void 0:t.renderElement,i,f]),y=(0,h.useMemo)(()=>iW(i,null!=s?s:null==t?void 0:t.renderLeaf),[null==t?void 0:t.renderLeaf,i,s]),b=(0,j.NY)(()=>{let e={decorate:p,renderElement:v,renderLeaf:y};return(0,m.$K)(l)&&(e.readOnly=l),iQ.forEach(n=>{let r=iT(i,{editableProps:t,handlerKey:n});r&&(e[n]=r)}),e},[p,t,v,y]);return(0,j.NY)(()=>({...nO(t,[...iQ,"renderElement","renderLeaf"]),...b}),[t,b])},iJ=()=>(0,k._7)(),iX=()=>(0,k.ui)(),i0=({setState:e,state:t,nextState:n,nextStateValue:r=n})=>{(0,h.useEffect)(()=>{n!==t&&void 0!==n&&e(r)},[e,t,n,r])},i1=({id:e,disableCorePlugins:t,value:n,onChange:r,plugins:o,decorate:i,renderElement:u,renderLeaf:a,readOnly:l})=>{let c=i$(e),s=nL(e),[f,d]=s.value(),[p,v]=s.decorate(),[y,b]=s.renderElement(),[g,m]=s.renderLeaf(),[j,w]=s.rawPlugins(),[,O]=s.plugins(),[k,C]=s.onChange(),[E,_]=s.readOnly();i0({state:f,setState:d,nextState:n}),i0({state:E,setState:_,nextState:l}),i0({state:j,setState:O,nextState:o,nextStateValue:null!=o?o:[]}),i0({state:null==k?void 0:k.fn,setState:C,nextState:r,nextStateValue:r?{fn:r}:null}),i0({state:null==p?void 0:p.fn,setState:v,nextState:i,nextStateValue:i?{fn:i}:null}),i0({state:null==y?void 0:y.fn,setState:b,nextState:u,nextStateValue:u?{fn:u}:null}),i0({state:null==g?void 0:g.fn,setState:m,nextState:a,nextStateValue:a?{fn:a}:null}),(0,h.useEffect)(()=>{o!==j&&(w(j),is(c,{plugins:o,disableCorePlugins:t}),O(c.plugins))},[t,c,j,o,O,w])},i2=({id:e})=>{var t;let n=i$(e),r=nD(e).value(),o=nF(e).value(),i=null===(t=nD(e).onChange())||void 0===t?void 0:t.fn,u=(0,h.useCallback)(e=>{let t=iz(n)(e);t||null==i||i(e),o(e)},[n,o,i]);return(0,h.useMemo)(()=>({key:n.key,editor:n,onChange:u,value:r}),[n,u,r])},i3=({plugin:e})=>{var t;let n=iJ();return null===(t=e.useHooks)||void 0===t||t.call(e,n,e),null},i9=({id:e})=>{let t=nF(e).isRendered(),n=nD(e).plugins();return(0,h.useEffect)(()=>(t(!0),()=>{t(!1)}),[t]),h.createElement(h.Fragment,null,n.map(e=>h.createElement(i3,{key:e.key,plugin:e})))},i6=(0,h.memo)(({id:e})=>{let t=iX(),n=nT("keyEditor",e),r=nT("keySelection",e);return(0,h.useEffect)(()=>{n()}),(0,h.useEffect)(()=>{r()},[t.selection,r]),null}),i4=({children:e,renderEditable:t,editableRef:n,firstChildren:r,...o})=>{let{id:i}=o,u=iJ(),{plugins:a}=u,l=iY(o),c=h.createElement(k.CX,M({ref:n},l)),s=null,f=null;a.forEach(e=>{let{renderBeforeEditable:t,renderAfterEditable:n}=e;n&&(s=h.createElement(h.Fragment,null,s,n(l))),t&&(f=h.createElement(h.Fragment,null,f,t(l)))});let d=h.createElement(h.Fragment,null,r,f,t?t(c):c,h.createElement(i6,{id:i}),h.createElement(i9,{id:i}),s,e);return a.forEach(e=>{let{renderAboveEditable:t}=e;t&&(d=t({children:d}))}),d},i7=({children:e,...t})=>(i1(t),h.createElement(h.Fragment,null,e)),i8=({normalizeInitialValue:e,...t})=>{let{id:n=nS,editor:r,initialValue:o,value:i,children:u,plugins:a,disableCorePlugins:l,onChange:c,decorate:s,renderElement:f,renderLeaf:d,readOnly:p}=t,v=(0,h.useMemo)(()=>null!=r?r:ih({id:n,plugins:a,disableCorePlugins:l}),[]),y=(0,h.useMemo)(()=>{let t=null!=o?o:i;t||(t=v.children.length?v.children:v.childrenFactory());let n=iD(v,t);return n&&(t=n),v.children=t,e&&(0,w.Nh)(v,{force:!0}),v.children},[]);return h.createElement(A,{initialValues:[[nM.atom.id,n],[nM.atom.editor,v],[nM.atom.plugins,v.plugins],[nM.atom.rawPlugins,a],[nM.atom.readOnly,p],[nM.atom.value,y],[nM.atom.decorate,{fn:s}],[nM.atom.onChange,{fn:c}],[nM.atom.renderElement,{fn:f}],[nM.atom.renderLeaf,{fn:d}]],scope:n},h.createElement(A,{initialValues:[[nP,n]],scope:nx},h.createElement(i7,t,u)))},i5=e=>{let{id:t}=e;return h.createElement(i8,M({key:null==t?void 0:t.toString()},e))},ue=({id:e,children:t})=>{let n=i2({id:e}),{plugins:r}=nD(e).editor(),o=h.createElement(k.mH,n,t);return null==r||r.forEach(e=>{let{renderAboveSlate:t}=e;t&&(o=t({children:o}))}),o},ut=({children:e,editableRef:t,firstChildren:n,renderEditable:r,editableProps:o,...i})=>{let{id:u=nS}=i,a=nD(u).id(),l=h.createElement(ue,{id:u},h.createElement(i4,M({id:u,editableRef:t,firstChildren:n,renderEditable:r},o),e));return a?l:h.createElement(i5,i,l)},un=(e,t,n)=>{let{activeType:r,inactiveType:o=rC(e,rs)}=t;if(!r||!e.selection)return;let i=(0,w.zw)(e,{...n,match:{type:r}});i&&r===o||(0,w.oU)(e,{type:i?o:r})}}}]);